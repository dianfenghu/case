<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>视频</title>
	<link rel="stylesheet" type="text/css" href="css/normalize.css" />
	<link rel="stylesheet" type="text/css" href="css/htmleaf-demo.css">
	<link rel="stylesheet" href="css/main.css">
</head>
<body>
	<div id="video_container" class="container">
		      <h3>视频</h3>
		      <p>支持Youtube, Vimeo和超链接。任何元素触发都可以触发弹出查看器。例如，点击这个超链接弹出一段<span class="text-trigger htmlvid" vidSrc="videos/panda.mp4">熊猫的视频</span>。</p>
		      <div class="flex">
		        <div class="vid htmlvid" style="background-image:url(img/vid_towers.jpg)" vidSrc="videos/towers.mp4"></div>
		        <div class="vid youtube" style="background-image:url(https://i.ytimg.com/vi/tU1b1H2EWU4/mqdefault.jpg)" ytSrc="tU1b1H2EWU4"></div>
		        <div class="vid youtube" style="background-image:url(https://i.vimeocdn.com/video/540194840_350x200.jpg)" ytSrc="rTi9FKuMNKQ"></div>
		        <div class="vid youtube" style="background-image:url(https://i.ytimg.com/vi/z_PeaHVcohg/mqdefault.jpg)" ytSrc="z_PeaHVcohg"></div>
		        <div class="vid vimeo" style="background-image:url(https://i.vimeocdn.com/video/506473859_350x200.jpg)" vimeoSrc="119287310"></div>
		        <div class="vid vimeo" style="background-image:url(https://i.vimeocdn.com/video/554831823_350x200.jpg)" vimeoSrc="154174852"></div>
		      </div>
		    </div>
</body>
<script src="dist/BigPicture.js"></script>
<script>
	  (function() {

	    function setClickHandler(id, fn) {
	      document.getElementById(id).onclick = fn;
	    }

	    setClickHandler('image_container', function(e) {
	      e.target.tagName === 'IMG' && BigPicture({
	        el: e.target,
	        imgSrc: e.target.src.replace('_thumb', '')
	      });
	    });

	    setClickHandler('local_image_container', function(e) {
	      (e.target.tagName === 'IMG' || e.target.className === 'background-image') &&
	        BigPicture({
	          el: e.target
	        });
	    });

	    setClickHandler('video_container', function(e) {
	      var className = e.target.className;
	      ~className.indexOf('htmlvid') &&
	        BigPicture({
	          el: e.target,
	          vidSrc: e.target.getAttribute('vidSrc')
	        });
	      ~className.indexOf('vimeo') &&
	        BigPicture({
	          el: e.target,
	          vimeoSrc: e.target.getAttribute('vimeoSrc')
	        });
	      ~className.indexOf('youtube') &&
	        BigPicture({
	          el: e.target,
	          ytSrc: e.target.getAttribute('ytSrc')
	        });
	    })

	    setClickHandler('broken_container', function(e) {
	      e.target.id === 'broken_image' &&
	        BigPicture({
	          el: e.target,
	          imgSrc: '/nopic.jpg'
	        });
	      e.target.id === 'broken_vid' &&
	        BigPicture({
	          el: e.target,
	          vidSrc: '/novid.mp4'
	        });
	      ~e.target.className.indexOf('vimeo') &&
	        BigPicture({
	          el: e.target,
	          vimeoSrc: 'ajoiejlkr'
	        })
	      ~e.target.className.indexOf('youtube') &&
	        BigPicture({
	          el: e.target,
	          ytSrc: 'oijlksdjf'
	        })
	    });

	  })();
	</script>
</html>